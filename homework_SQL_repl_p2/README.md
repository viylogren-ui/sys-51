# Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Ренёв Виталий`

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер; 
- master-сервер и несколько slave-серверов;


*Дайте ответ в свободной форме.*

### Решение 1

1. активный master-сервер и пассивный репликационный slave-сервер

- Повышение скорости чтения данных, т.к. данные могут читаться не только с master-сервера, но и со slave-сервера, что позволяет распределить нагрузку, соотственно повысить прозводительность всей "системы".
- Рапределение нагрузки на вычислительные ресурсы, т.к. серверов теперь не один, а два.
- Повышение отказоустойчивости - при физическом выходе из строя одного из серверов информация сохранится на втором сервере.

2. master-сервер и несколько slave-серверов

Дополнительно к вышеизложенному (повышение скорости чтения данных, распределене нагрузки на вычислительные ресурсы, повышение отказоустойчивост) можно добавить для такой конфигурации (master-сервер и несколько slave-серверов) следующие преимущества:

- все вышеперечисленные достоинства увеличиваются кратно, т.к. увеличивается количество slave-серверов, соответственно вычислительных ресурсов становится больше и соответственно возможностей по распределению нагрузки тоже становится больше;
- возможно зарезервировать функции master-сервера за одним из slave-серверов. При выходе из строя master-сервера его функции возьмет на себя один из слейвов.

Принципиальной особенностью второго метода репликации является необходимость качественной настройки всей системы (с точки зрения сетевого и системного администрирования), т.к. от этого напрямую зависит согласованность данных в ней и правильное распределение нагрузки по обращению к репликам БД конечных пользователей. 



### Задание 2


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 

### Решение 2


В целях решения задачи поддержания высокой производительности системы (высокой скорости доступа к информации, содержащейся в БД) при значительном увеличении количества записей, целесообразно рассмотреть реализацию горизонтального масштабирования (шардинга) имеющихся таблиц: "пользователи", "книги", "магазины" по двум серверам. Схематично горизонтальный и вертикальный шардинг можно представить следующим образом:

![1.1.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_SQL_repl_p2/img/1.1.png)


![1.2.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_SQL_repl_p2/img/1.2.png)


![1.3.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_SQL_repl_p2/img/1.3.png)

При горизонтальном шардинге таблицы можно разбить на две по количеству строк и разместить на разных серверах. При таком методе пользовательские запросы можно распределить равномерно на два сервера, что позволит снизить нагрузку на основной сервер.


При вертикальном шардинге для таблицы "пользователи" на отдельный сервер выделим столбец со значением паролей для пользователей, для таблицы "книги" на отдельный сервер выделим таблицу с жанрами, а для таблицы "магазины" - по территориальному признаку. Такой подход позволит оптимизировать скорость ответа при увеличении количества записей в таблицах и соответственно запросов к базе за счет выделения информации в отдельные таблицы по определенным критериям (свойствам).
