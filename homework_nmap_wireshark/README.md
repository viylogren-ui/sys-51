# Домашнее задание к занятию "`Уязвимости и атаки на информационные системы`" - `Ренёв Виталий`


### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
*Приведите ответ в свободной форме.* 

### Решение 1

`Список открытых портов и сетевых служб`

![1.0_net_services.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/1.0_net_services.png)

`Некоторые уязвимости, найденные в результате "агрессивного" сканирования с помощью утилиты nmap, которые можно попробовать использовать с помощью эксплоитов перечисленных на сайте https://www.exploit-db.com/`

`Very Secure FTP Deamon устаревшей версии, который открыт на 21 порту. Можно попробовать установить удаленный remote-контроль с помощью соответствующего эксплоита.`

![1.1_vsftpd.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/1.1_vsftpd.png)



`Berkeley Internet Name Domain, сервис, открытый на 53 порту. Можно попробовать осуществить атаку типа DOS с помощью соответствующего эксплоита.`

![1.2_isc_bind.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/1.2_isc_bind.png)


`На удаленном сервере установлен устаревший web-сервер apache, который слушает 80 порт. Можно попробовать установить удаленный remote-контроль или осуществить атаку типа "отказ в обслуживании" с помощью соответствующих эксплоитов.`

![1.3_apache_httpd.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/1.3_apache_httpd.png)


`И еще пару уязвимостей, которые можно использовать для доступа к исследуемому узлу в сети`

![1.4_proftpd.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/1.4_proftpd.png)

![1.5_mysql.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/1.5_mysql.png)


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?

*Приведите ответ в свободной форме.*

### Решение 2

`С точки зрениния сетевого трафика и модели OSI все режимы работают на транспортном уровне, но режимы SYN, FIN, Xmas используют особенности структуры протокола TCP, в основе которого лежит надежность доставки информации и контроль сессии, в частности за счет использования так называемого правила "трехстороннего рукопожатия". В структуре кадра имеются соответствующие флаги SYN - флаг запроса на соединение, FIN - флаг завершения соединения и ACK - подтверждение соединения. Запрос типа UDP использует более простой протокол UDP, с помощью которого просто сканирует порты исследуемого хоста и в зависимости от ответа можно сделать вывод об открытых/закрытых или фильтруемых портах.`

`Запрос типа SYN. Здесь сканер сети nmap отправляет кадры с битом исполнения SYN на запрос начала соединения и те порты, которые "ответили" являются открытыми, из чего можно сделать вывод о возможности дальнешего исследования на уязвимости.`

![2.1_nmap_SYN.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/2.1_nmap_SYN.png)


`Запрос типа FIN. Здесь сканер сети nmap отправляет кадры с битом исполнения FIN на запрос завершения соединения и те порты, которые "не ответили" фактически отфильтровали траффик, т.к. запроса на соединение не создавалось. В моем примере с 21 и 22 портов ответа не последовало, о чем можно сделать вывод об их отрытии.`

![2.2_nmap_FIN.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/2.2_nmap_FIN.png)


`Запрос типа Xmap. Здесь сканер сети nmap отправляет кадры с битами исполнения FIN, PSH (флаг передачи данных из буфер приложения) и URG (флаг срочности) с запросом на завершение соединения и, аналогично предыдущему запросу, те порты, которые "не ответили" фактически отфильтровали траффик, т.к. запроса на соединение не создавалось. В моем примере с 23 порта ответа не последовало, о чем можно сделать вывод о его отрытии.`

![2.3_nmap_Xmas_FIN_PSH_URG.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/2.3_nmap_Xmas_FIN_PSH_URG.png)


`В запросе типа UDP логика следующая: если в ответ приходит ICMP-ошибка код 3, значит порт закрыт, ICMP-ошибка коды 1, 2, 9, 10 или 13, значит порт фильтруется, если службы отвечают UDP-пакетом, значит порт открыт и можно продолжать работу по поиску уязвимостей с целью выполнения дальнейшего комплекса мероприятий: получение доступа к информации исследуемого хоста, повышение привилегий, расширение присуствия и маскировка своего присутствия, пока "копаешься в чужом огороде:)".`

![2.4_nmap_UDP.png](https://github.com/viylogren-ui/sys-51/blob/main/homework_nmap_wireshark/img/2.4_nmap_UDP.png)